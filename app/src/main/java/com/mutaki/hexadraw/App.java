/*
 * This source file was generated by the Gradle 'init' task
 */
package com.mutaki.hexadraw;

import static com.mutaki.hexadraw.ComponentNames.ADD_DIAGRAM_BTN;
import static com.mutaki.hexadraw.ComponentNames.SAVE_BTN;

import java.awt.BorderLayout;
import java.awt.Graphics;
import java.awt.event.ActionEvent;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

public class App {
    public static void main(String[] args) {
	SwingUtilities.invokeLater(App::new);
    }

    private JFrame frame;
    private JPanel drawPanel;

    public App() {
	frame = new JFrame("Diagram App");
	frame.setName(ComponentNames.MAIN_FRAME);
	frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	frame.setSize(800, 600);
	frame.setLocationRelativeTo(null);

	JButton openBtn = new JButton("Open diagram");
	JButton saveBtn = new JButton("Save");

	JPanel topPanel = new JPanel();
	topPanel.add(openBtn);
	topPanel.add(saveBtn);

	frame.add(topPanel, BorderLayout.NORTH);

	openBtn.addActionListener(this::handleOpen);
	// Names help identify components for window licker
	openBtn.setName(ADD_DIAGRAM_BTN);
	saveBtn.setName(SAVE_BTN);

	frame.setVisible(true);
    }

    private void handleOpen(ActionEvent e) {
	if (drawPanel == null) {
	    drawPanel = new JPanel() {
		protected void paintComponent(Graphics g) {
		    super.paintComponent(g);
		    g.drawLine(10, 10, 100, 100);
		}
	    };
	    frame.add(drawPanel, BorderLayout.CENTER);
	    frame.revalidate();
	}
    }
}
